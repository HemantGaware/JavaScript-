<!DOCTYPE html>
<html lang="en">
<head>
    <title>Age Calculater - Give Birth Date</title>
</head>
<body>
        <input type="date" id="date" onchange="test(this.value);" />
        
    <script>

         function test(val){
             //2019 05 20
            var year = val.substring(0,4);
            var month = val.substring(5 ,7);
            var day = val.substring(8,10);
            alert(calculate_age(month,day,year));
         }
        function calculate_age(birth_month,birth_day,birth_year){
                today_date = new Date();
                today_year = today_date.getFullYear();
                today_month = today_date.getMonth();
                today_day = today_date.getDate();
                age = today_year - birth_year;
                if ( today_month < (birth_month - 1))
                {
                    age--;
                }
                if (((birth_month - 1) == today_month) && (today_day < birth_day))
                {
                    age--;
                }
                return age;
            }
            

            // document.body.addEventListener("load", myFunction);
            // window.onload = function(){
            //     alert('set');
            //     setTimeout(myFun, 3000);
            //     function myFun(){
            //         var preSetDate = document.getElementById('cr_age').value;
            //         myAgeValidation(preSetDate);
            //         alert('set');
            //     }
            //     };
          

    </script>
</body>
</html>